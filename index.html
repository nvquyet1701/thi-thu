<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thi Thử Toán 2025 - Thầy Quang Trí</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; background-color: #f4f4f9; }
        .container { background: white; padding: 30px; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
        h1, h2 { color: #2c3e50; }
        .section-title { background-color: #007bff; color: white; padding: 10px; border-radius: 5px; margin-top: 30px; }
        .question-box { margin-bottom: 20px; padding: 15px; border-bottom: 1px solid #eee; }
        .question-text { font-weight: bold; margin-bottom: 10px; display: block; }
        .options label { display: block; margin-bottom: 5px; cursor: pointer; }
        
        /* Style cho phần Đúng/Sai */
        .tf-grid { display: grid; grid-template-columns: 3fr 1fr 1fr; gap: 10px; align-items: center; }
        .tf-header { font-weight: bold; border-bottom: 2px solid #ddd; padding-bottom: 5px; margin-bottom: 10px; }
        .tf-row { display: contents; }
        
        button#submit-btn { background-color: #28a745; color: white; border: none; padding: 15px 30px; font-size: 18px; border-radius: 5px; cursor: pointer; display: block; width: 100%; margin-top: 20px; }
        button#submit-btn:hover { background-color: #218838; }
        
        #result-area { margin-top: 20px; padding: 20px; background-color: #e2e6ea; display: none; border-radius: 5px; }
        .score-display { font-size: 24px; color: #dc3545; font-weight: bold; }
    </style>
</head>
<body>

<div class="container">
    <center>
        <h1>ĐỀ THI THỬ TỐT NGHIỆP THPT 2025</h1>
        <p>Môn: TOÁN - Thời gian: 90 phút</p>
    </center>

    <form id="quiz-form">
        <div class="section-title">PHẦN I. Trắc nghiệm (3 điểm)</div>
        <p><i>Mỗi câu đúng 0.25 điểm.</i></p>

        <div class="question-box" id="p1_q1">
            <span class="question-text">Câu 1: Cho hàm số $y = x^3 - 3x + 1$. Mệnh đề nào dưới đây đúng?</span>
            <div class="options">
                <label><input type="radio" name="p1_q1" value="A"> A. Hàm số đồng biến trên khoảng $(-\infty; -1)$.</label>
                <label><input type="radio" name="p1_q1" value="B"> B. Hàm số nghịch biến trên khoảng $(-\infty; 1)$.</label>
                <label><input type="radio" name="p1_q1" value="C"> C. Hàm số đồng biến trên khoảng $(-1; 1)$.</label>
                <label><input type="radio" name="p1_q1" value="D"> D. Hàm số nghịch biến trên khoảng $(0; 2)$.</label>
            </div>
        </div>

        <div class="section-title">PHẦN II. Trắc nghiệm Đúng/Sai (4 điểm)</div>
        <p><i>Điểm số tính theo số ý đúng: 1 ý (0.1đ), 2 ý (0.25đ), 3 ý (0.5đ), 4 ý (1.0đ).</i></p>

        <div class="question-box">
            <span class="question-text">Câu 2: Cho hình hộp chữ nhật $ABCD.A'B'C'D'$ có $AB=a, AD=2a, AA'=3a$.</span>
            <div class="tf-grid">
                <div class="tf-header">Phát biểu</div><div class="tf-header">Đúng</div><div class="tf-header">Sai</div>
                
                <div class="tf-row">
                    <div>a) Đường thẳng $AB$ song song với $C'D'$.</div>
                    <div><input type="radio" name="p2_q1_a" value="D"></div>
                    <div><input type="radio" name="p2_q1_a" value="S"></div>
                </div>
                <div class="tf-row">
                    <div>b) Thể tích khối hộp là $6a^3$.</div>
                    <div><input type="radio" name="p2_q1_b" value="D"></div>
                    <div><input type="radio" name="p2_q1_b" value="S"></div>
                </div>
                <div class="tf-row">
                    <div>c) Góc giữa $AC'$ và đáy là $45^\circ$.</div>
                    <div><input type="radio" name="p2_q1_c" value="D"></div>
                    <div><input type="radio" name="p2_q1_c" value="S"></div>
                </div>
                <div class="tf-row">
                    <div>d) Khoảng cách từ $A$ đến $(BDD'B')$ bằng $a$.</div>
                    <div><input type="radio" name="p2_q1_d" value="D"></div>
                    <div><input type="radio" name="p2_q1_d" value="S"></div>
                </div>
            </div>
        </div>

        <div class="section-title">PHẦN III. Trả lời ngắn (3 điểm)</div>
        <p><i>Mỗi câu đúng 0.5 điểm. Nhập kết quả dạng số (ví dụ: -1.5).</i></p>

        <div class="question-box">
            <span class="question-text">Câu 3: Có bao nhiêu giá trị nguyên của tham số $m$ để hàm số $y=\frac{mx+4}{x+m}$ nghịch biến trên khoảng $(-\infty; 1)$?</span>
            <input type="text" name="p3_q1" placeholder="Nhập đáp án của bạn...">
        </div>

        <button type="button" id="submit-btn" onclick="chamDiem()">NỘP BÀI</button>
    </form>

    <div id="result-area">
        <h2>KẾT QUẢ CỦA BẠN</h2>
        <p>Tổng điểm: <span class="score-display" id="total-score">0</span> / 10</p>
        <div id="detailed-feedback"></div>
    </div>
</div>

<script>
    // ===============================================
    // CẤU HÌNH ĐÁP ÁN TẠI ĐÂY (GIÁO VIÊN SỬA Ở ĐÂY)
    // ===============================================
    const DAP_AN = {
        // PHẦN 1: Key là tên (name) input, Value là đáp án đúng
        PART1: {
            "p1_q1": "A" // Ví dụ câu 1 đáp án A
        },
        
        // PHẦN 2: Cấu trúc lồng nhau
        PART2: {
            "p2_q1": { // Câu 1 phần 2
                "p2_q1_a": "D", // Ý a là Đúng (D)
                "p2_q1_b": "D", // Ý b là Đúng (D)
                "p2_q1_c": "S", // Ý c là Sai (S)
                "p2_q1_d": "S"  // Ý d là Sai (S)
            }
        },

        // PHẦN 3: Đáp án trả lời ngắn (chấp nhận mảng để chứa nhiều biến thể)
        PART3: {
            "p3_q1": ["5", "5.0"] // Đáp án là 5
        }
    };

    function chamDiem() {
        let tongDiem = 0;
        let loiNhan = "<h3>Chi tiết điểm số:</h3><ul>";

        // --- XỬ LÝ PHẦN 1 (0.25đ/câu) ---
        for (let [key, val] of Object.entries(DAP_AN.PART1)) {
            let userChoice = document.querySelector(`input[name="${key}"]:checked`);
            if (userChoice && userChoice.value === val) {
                tongDiem += 0.25;
            }
        }
        loiNhan += `<li>Phần I đã chấm xong (Ẩn chi tiết).</li>`;

        // --- XỬ LÝ PHẦN 2 (CƠ CHẾ LŨY TIẾN ĐẶC BIỆT) ---
        for (let [cauHoiID, cacY] of Object.entries(DAP_AN.PART2)) {
            let soYDung = 0;
            for (let [yID, dapAnDung] of Object.entries(cacY)) {
                let userChoice = document.querySelector(`input[name="${yID}"]:checked`);
                if (userChoice && userChoice.value === dapAnDung) {
                    soYDung++;
                }
            }
            
            // Quy đổi điểm theo luật 2025
            let diemCauNay = 0;
            if (soYDung === 1) diemCauNay = 0.1;
            else if (soYDung === 2) diemCauNay = 0.25;
            else if (soYDung === 3) diemCauNay = 0.5;
            else if (soYDung === 4) diemCauNay = 1.0;
            
            tongDiem += diemCauNay;
            loiNhan += `<li>Phần II - Một câu bạn đúng ${soYDung}/4 ý -> Được ${diemCauNay} điểm.</li>`;
        }

        // --- XỬ LÝ PHẦN 3 (0.5đ/câu) ---
        for (let [key, valList] of Object.entries(DAP_AN.PART3)) {
            let userInput = document.querySelector(`input[name="${key}"]`).value.trim();
            // Đổi dấu phẩy thành dấu chấm để so sánh
            userInput = userInput.replace(',', '.');
            
            let isCorrect = valList.includes(userInput) || valList.includes(userInput.replace('.', ','));
            
            if (isCorrect) {
                tongDiem += 0.5;
            }
        }
        loiNhan += `<li>Phần III đã chấm xong.</li></ul>`;

        // Hiển thị kết quả
        document.getElementById("total-score").innerText = tongDiem.toFixed(2);
        document.getElementById("detailed-feedback").innerHTML = loiNhan;
        document.getElementById("result-area").style.display = "block";
        window.scrollTo(0, document.body.scrollHeight);
    }
</script>

</body>
</html>
